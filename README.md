**<p align="center">  Learning Risk Preferences in Markov Decision Processes: an Application to the Fourth Down Decision in the National Football League</p>**

*<p align="center"> A Companion Repository </p>*

All of the R code to produce the results presented in our paper [Learning Risk Preferences in Markov Decision Processes: an Application to the Fourth Down Decision in the National Football League](https://arxiv.org/abs/2309.00756) are included in this repository.  The data which this analysis relies on can be accessed in R via the [nflfastR](https://www.nflfastr.com/) and [nfl4th](https://www.nfl4th.com/index.html) packages.  The script `r_scripts/data_preprocessing.R` loads the data using these packages, cleans the data for our analysis, and saves the cleaned data as an .rds file, which is used in the other analysis scripts.  We have also included this cleaned data in the repo in file `data/pbp_2014_2022.rds`.  To make recreation of the figures easier, we also have included the necessary model output in `output` for those interested in taking a closer look at the results without rerunning the analysis.  
